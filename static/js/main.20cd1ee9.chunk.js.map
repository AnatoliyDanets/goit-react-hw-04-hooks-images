{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Loader/LoaderComponent.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","API/pixabay-api.js","components/Button/Button.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","largeImageURL","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","s","Overlay","onClick","currentTarget","target","src","alt","Searchbar","submit","useState","searchName","setSearchName","SearchForm","onSubmit","preventDefault","trim","toast","error","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","name","value","onChange","toLowerCase","API_KEY","BASE_URL","query","page","a","fetch","response","ok","json","Promise","reject","Error","api","imageAPI","Button","OnClick","children","ImageGalleryItem","id","webformatURL","onOpenModal","ImageGalleryItem__image","LoaderComponent","loader","color","height","width","ImageGallery","images","setImages","setPage","setError","loading","setLoading","toggleLoader","fetchApi","API","then","image","hits","length","prev","catch","map","index","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","App","setLargeImageURL","setTags","showModal","setShowModal","toggleModal","dataset","source","console","log","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.20cd1ee9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Pm-c\",\"Modal\":\"Modal_Modal__1JApJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Fn-U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderComponent_loader__13u55\"};","import s from \"../Modal/Modal.module.css\";\r\nimport React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ onClose, largeImageURL, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import { useState } from \"react\";\r\nimport s from \"../Searchbar/Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default function Searchbar({ submit }) {\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const handleInputChange = (e) => {\r\n    setSearchName(e.currentTarget.value.toLowerCase());\r\n  };\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (searchName.trim() === \"\") {\r\n      toast.error(\"empty string\");\r\n      return;\r\n    }\r\n    submit(searchName);\r\n\r\n    setSearchName(\"\");\r\n  };\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleFormSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm__button}>\r\n          <span className={s.SearchForm__button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm__input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"searchName\"\r\n          value={searchName}\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","const API_KEY = \"22939354-d4c9986b85a6f5174d41c17d7\";\r\nconst BASE_URL = \"https://pixabay.com/api/?\";\r\n\r\nasync function imageAPI(query, page) {\r\n  const response = await fetch(\r\n    `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  return await Promise.reject(new Error(`no images on request`));\r\n}\r\nconst api = { imageAPI };\r\nexport default api;\r\n","import s from \"../Button/Button.module.css\";\r\n\r\nexport default function Button({ OnClick, children }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={OnClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"../ImageGallery.module.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  id,\r\n  tags,\r\n  webformatURL,\r\n  largeImageURL,\r\n  onOpenModal,\r\n}) {\r\n  return (\r\n    <li key={id} className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-alt={tags}\r\n        data-source={largeImageURL}\r\n        className={s.ImageGalleryItem__image}\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"../Loader/LoaderComponent.module.css\";\r\n\r\nexport default function LoaderComponent() {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../../API/pixabay-api\";\r\nimport Button from \"../Button\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport LoaderComponent from \"../Loader/Loader\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"../ImageGallery/ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ onOpenModal, query }) {\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  if (query !== searchName) {\r\n    setSearchName(query);\r\n    setPage(1);\r\n    setImages([]);\r\n  }\r\n  // useEffect(() => {\r\n  //   setImages([]);\r\n  // }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    toggleLoader();\r\n\r\n    fetchApi();\r\n    // eslint-disable-next-line\r\n  }, [query, page]);\r\n\r\n  const loadMore = () => {\r\n    setPage((prev) => prev + 1);\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }, 800);\r\n  };\r\n  const fetchApi = () => {\r\n    API.imageAPI(query, page)\r\n      .then((image) => {\r\n        if (image.hits.length === 0) {\r\n          toast.error(\"No images found on your query\");\r\n        }\r\n        setImages((prev) => [...prev, ...image.hits]);\r\n        toggleLoader();\r\n      })\r\n      .catch(setError(error));\r\n  };\r\n\r\n  const toggleLoader = () => {\r\n    setLoading((prev) => !prev);\r\n  };\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>\r\n        {images.map(({ tags, webformatURL, largeImageURL }, index) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={index}\r\n              tags={tags}\r\n              webformatURL={webformatURL}\r\n              largeImageURL={largeImageURL}\r\n              onOpenModal={onOpenModal}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n      {loading && <LoaderComponent />}\r\n      {images.length >= 12 && (\r\n        <Button OnClick={loadMore} children={\"Show more\"} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { useState } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Modal from \"./components/Modal\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nexport default function App() {\n  const [searchName, setSearchName] = useState(\"\");\n\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n\n  const handleSubmit = (searchName) => {\n    setSearchName(searchName);\n  };\n\n  const onOpenModal = (e) => {\n    setLargeImageURL(e.target.dataset.source);\n    console.log(e.target);\n    setTags(e.target.dataset.alt);\n\n    toggleModal();\n  };\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n  return (\n    <div>\n      <Searchbar submit={handleSubmit} />\n      <ImageGallery onOpenModal={onOpenModal} query={searchName} />\n      {showModal && (\n        <Modal\n          onClose={toggleModal}\n          largeImageURL={largeImageURL}\n          tags={tags}\n        />\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__NNADc\",\"SearchForm\":\"Searchbar_SearchForm__2SxDr\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1IOoD\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__1H49a\",\"SearchForm__input\":\"Searchbar_SearchForm__input__gCSJ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3TF3S\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2Mq6H\",\"ImageGalleryItem__image\":\"ImageGallery_ImageGalleryItem__image__1z-zP\"};"],"sourceRoot":""}